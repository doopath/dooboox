{"ast":null,"code":"import _objectSpread from \"/home/doopath/Files/coderpool/React/dooboox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/doopath/Files/coderpool/React/dooboox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nvar _jsxFileName = \"/home/doopath/Files/coderpool/React/dooboox/src/components/pages/Engines/AuthorBlockEngine.tsx\";\nimport React from \"react\";\nimport * as axios from \"axios\";\nimport { Author } from \"../template/Author\";\nimport { faUserNinja } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUserEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUserGraduate } from \"@fortawesome/free-solid-svg-icons\";\nvar userIcons = {\n  faUserNinja: faUserNinja,\n  faUserEdit: faUserEdit,\n  faUserGraduate: faUserGraduate\n};\nexport var AuthorBlockEngine = function AuthorBlockEngine(props) {\n  var _this = this;\n\n  _classCallCheck(this, AuthorBlockEngine);\n\n  this.author = void 0;\n  this.actionCreator = void 0;\n  this.location = void 0;\n  this.nameHighlighter = void 0;\n\n  this.createAuthorItems = function (sourceBlock) {\n    var authorItems = {};\n    sourceBlock[\"items\"].forEach(function (item) {\n      if (item[\"name\"] !== \"authorRole\") {\n        authorItems[item[\"name\"]] = item[\"value\"];\n      } else {\n        authorItems[\"authorRole\"] = {\n          role: item[\"value\"],\n          icon: item[\"icon\"]\n        };\n      }\n    });\n    return authorItems;\n  };\n\n  this.createAuthor = function (sourceBlock) {\n    var authorItems = _this.createAuthorItems(sourceBlock);\n\n    return /*#__PURE__*/React.createElement(Author, Object.assign({\n      name: _this.getHighlightedName(authorItems[\"authorName\"]),\n      id: sourceBlock[\"id\"],\n      link: \"/\".concat(_this.location[\"authors\"]),\n      role: authorItems[\"authorRole\"][\"role\"],\n      icon: userIcons[authorItems[\"authorRole\"][\"icon\"]],\n      text: authorItems[\"authorWork\"]\n    }, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  this.setAuthor = function () {\n    axios[\"get\"](_this.author[\"source\"]).then(function (response) {\n      if (response[\"data\"]) {\n        var author = _this.createAuthor(response[\"data\"][0]);\n\n        _this.actionCreator(\"ADD_NEW_AUTHOR\", _objectSpread({}, author, {\n          id: response[\"data\"][0][\"id\"]\n        }));\n      }\n    });\n  };\n\n  this.getHighlightedName = function (newName) {\n    var name = _this.nameHighlighter;\n    name[\"setAuthorName\"](newName);\n    name[\"highlight\"]();\n    return name[\"getHighlightedAuthorName\"]();\n  };\n\n  this.create = function () {\n    _this.setAuthor();\n  };\n\n  this.author = props[\"author\"];\n  this.actionCreator = props[\"actionCreator\"];\n  this.location = props[\"location\"];\n  this.nameHighlighter = props[\"nameHighlighter\"];\n};","map":{"version":3,"sources":["/home/doopath/Files/coderpool/React/dooboox/src/components/pages/Engines/AuthorBlockEngine.tsx"],"names":["React","axios","Author","faUserNinja","faUserEdit","faUserGraduate","userIcons","AuthorBlockEngine","props","author","actionCreator","location","nameHighlighter","createAuthorItems","sourceBlock","authorItems","forEach","item","role","icon","createAuthor","name","getHighlightedName","id","link","text","setAuthor","then","response","newName","create"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAGA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,SAASC,WAAT,QAA4B,mCAA5B;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,cAAT,QAA+B,mCAA/B;AAEA,IAAMC,SAAiB,GAAG;AACxBH,EAAAA,WAAW,EAAXA,WADwB;AAExBC,EAAAA,UAAU,EAAVA,UAFwB;AAGxBC,EAAAA,cAAc,EAAdA;AAHwB,CAA1B;AAMA,WAAaE,iBAAb,GAME,2BAAmBC,KAAnB,EAAkC;AAAA;;AAAA;;AAAA,OAL1BC,MAK0B;AAAA,OAJ1BC,aAI0B;AAAA,OAH1BC,QAG0B;AAAA,OAF1BC,eAE0B;;AAAA,OAO1BC,iBAP0B,GAON,UAACC,WAAD,EAAiC;AAC3D,QAAIC,WAAmB,GAAG,EAA1B;AAEAD,IAAAA,WAAW,CAAC,OAAD,CAAX,CAAqBE,OAArB,CAA6B,UAACC,IAAD,EAAwB;AACnD,UAAIA,IAAI,CAAC,MAAD,CAAJ,KAAiB,YAArB,EAAmC;AACjCF,QAAAA,WAAW,CAACE,IAAI,CAAC,MAAD,CAAL,CAAX,GAA4BA,IAAI,CAAC,OAAD,CAAhC;AACD,OAFD,MAEO;AACLF,QAAAA,WAAW,CAAC,YAAD,CAAX,GAA4B;AAC1BG,UAAAA,IAAI,EAAED,IAAI,CAAC,OAAD,CADgB;AAE1BE,UAAAA,IAAI,EAAEF,IAAI,CAAC,MAAD;AAFgB,SAA5B;AAID;AACF,KATD;AAWA,WAAOF,WAAP;AACD,GAtBiC;;AAAA,OAwB1BK,YAxB0B,GAwBX,UAACN,WAAD,EAAsC;AAC3D,QAAIC,WAAW,GAAG,KAAI,CAACF,iBAAL,CAAuBC,WAAvB,CAAlB;;AAEA,wBACE,oBAAC,MAAD,gBACM;AACFO,MAAAA,IAAI,EAAE,KAAI,CAACC,kBAAL,CAAwBP,WAAW,CAAC,YAAD,CAAnC,CADJ;AAEFQ,MAAAA,EAAE,EAAET,WAAW,CAAC,IAAD,CAFb;AAGFU,MAAAA,IAAI,aAAM,KAAI,CAACb,QAAL,CAAc,SAAd,CAAN,CAHF;AAIFO,MAAAA,IAAI,EAAEH,WAAW,CAAC,YAAD,CAAX,CAA0B,MAA1B,CAJJ;AAKFI,MAAAA,IAAI,EAAEb,SAAS,CAACS,WAAW,CAAC,YAAD,CAAX,CAA0B,MAA1B,CAAD,CALb;AAMFU,MAAAA,IAAI,EAAEV,WAAW,CAAC,YAAD;AANf,KADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AAYD,GAvCiC;;AAAA,OAyC1BW,SAzC0B,GAyCd,YAAY;AAC9BzB,IAAAA,KAAK,CAAC,KAAD,CAAL,CAAa,KAAI,CAACQ,MAAL,CAAY,QAAZ,CAAb,EAAoCkB,IAApC,CAAyC,UAACC,QAAD,EAA4B;AACnE,UAAIA,QAAQ,CAAC,MAAD,CAAZ,EAAsB;AACpB,YAAInB,MAAc,GAAG,KAAI,CAACW,YAAL,CAAkBQ,QAAQ,CAAC,MAAD,CAAR,CAAiB,CAAjB,CAAlB,CAArB;;AACA,QAAA,KAAI,CAAClB,aAAL,CAAmB,gBAAnB,oBACKD,MADL;AAEEc,UAAAA,EAAE,EAAEK,QAAQ,CAAC,MAAD,CAAR,CAAiB,CAAjB,EAAoB,IAApB;AAFN;AAID;AACF,KARD;AASD,GAnDiC;;AAAA,OAqD1BN,kBArD0B,GAqDL,UAACO,OAAD,EAA6B;AACxD,QAAIR,IAAY,GAAG,KAAI,CAACT,eAAxB;AAEAS,IAAAA,IAAI,CAAC,eAAD,CAAJ,CAAsBQ,OAAtB;AACAR,IAAAA,IAAI,CAAC,WAAD,CAAJ;AAEA,WAAOA,IAAI,CAAC,0BAAD,CAAJ,EAAP;AACD,GA5DiC;;AAAA,OA8D3BS,MA9D2B,GA8DlB,YAAY;AAC1B,IAAA,KAAI,CAACJ,SAAL;AACD,GAhEiC;;AAChC,OAAKjB,MAAL,GAAcD,KAAK,CAAC,QAAD,CAAnB;AACA,OAAKE,aAAL,GAAqBF,KAAK,CAAC,eAAD,CAA1B;AACA,OAAKG,QAAL,GAAgBH,KAAK,CAAC,UAAD,CAArB;AACA,OAAKI,eAAL,GAAuBJ,KAAK,CAAC,iBAAD,CAA5B;AACD,CAXH","sourcesContent":["import React from \"react\";\nimport * as axios from \"axios\";\n\nimport { Engine } from \"./Engine\";\nimport { Author } from \"../template/Author\";\n\nimport { faUserNinja } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUserEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUserGraduate } from \"@fortawesome/free-solid-svg-icons\";\n\nconst userIcons: object = {\n  faUserNinja,\n  faUserEdit,\n  faUserGraduate,\n};\n\nexport class AuthorBlockEngine implements Engine {\n  private author: object;\n  private actionCreator: Function;\n  private location: object;\n  private nameHighlighter: object;\n\n  public constructor(props: object) {\n    this.author = props[\"author\"];\n    this.actionCreator = props[\"actionCreator\"];\n    this.location = props[\"location\"];\n    this.nameHighlighter = props[\"nameHighlighter\"];\n  }\n\n  private createAuthorItems = (sourceBlock: object): object => {\n    let authorItems: object = {};\n\n    sourceBlock[\"items\"].forEach((item: object): void => {\n      if (item[\"name\"] !== \"authorRole\") {\n        authorItems[item[\"name\"]] = item[\"value\"];\n      } else {\n        authorItems[\"authorRole\"] = {\n          role: item[\"value\"],\n          icon: item[\"icon\"],\n        };\n      }\n    });\n\n    return authorItems;\n  };\n\n  private createAuthor = (sourceBlock: object): JSX.Element => {\n    let authorItems = this.createAuthorItems(sourceBlock);\n\n    return (\n      <Author\n        {...{\n          name: this.getHighlightedName(authorItems[\"authorName\"]),\n          id: sourceBlock[\"id\"],\n          link: `/${this.location[\"authors\"]}`,\n          role: authorItems[\"authorRole\"][\"role\"],\n          icon: userIcons[authorItems[\"authorRole\"][\"icon\"]],\n          text: authorItems[\"authorWork\"],\n        }}\n      />\n    );\n  };\n\n  private setAuthor = (): void => {\n    axios[\"get\"](this.author[\"source\"]).then((response: object): void => {\n      if (response[\"data\"]) {\n        let author: object = this.createAuthor(response[\"data\"][0]);\n        this.actionCreator(\"ADD_NEW_AUTHOR\", {\n          ...author,\n          id: response[\"data\"][0][\"id\"],\n        });\n      }\n    });\n  };\n\n  private getHighlightedName = (newName: string): string => {\n    let name: object = this.nameHighlighter;\n\n    name[\"setAuthorName\"](newName);\n    name[\"highlight\"]();\n\n    return name[\"getHighlightedAuthorName\"]();\n  };\n\n  public create = (): void => {\n    this.setAuthor();\n  };\n}\n"]},"metadata":{},"sourceType":"module"}